# Maintainer: Ash Logan <ash [at] heyquark [dot] com>
# Contributor: rw <r.r.qwertyuiop.r.r [at] gmail [dot] com>

_destdir=/opt/devkitpro/portlibs/wiiu

pkgname=wiiu-libromfs
pkgver=0.4
_gittag=$pkgver
pkgrel=1
pkgdesc="Implementation of romfs (an in-binary filesystem) for Wii U"
arch=('any')
url="https://github.com/yawut/libromfs-wiiu"
license=('MIT')
groups=("wiiu-libs")
options=("staticlibs" "!strip")
source=("$pkgname::git+https://github.com/yawut/libromfs-wiiu#tag=$_gittag")
md5sums=("SKIP")

makedepends=('git' 'wut' 'cmake')

build() {
    cd $pkgname
    mkdir -p build && cd build
    cmake -DCMAKE_INSTALL_PREFIX="$pkgdir/$_destdir" ..
    make
}

package() {
    cd $pkgname/build
    make install
}
